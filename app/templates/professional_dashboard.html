{% extends "layout.html" %}

{% block content %}
<h2>Professional Dashboard</h2>
<h3>Assigned Service Requests</h3>
<table>
    <tr>
        <th>Customer</th>
        <th>Service</th>
        <th>Status</th>
        <th>Remarks</th>
        <th>Action</th>
    </tr>
    {% for request in service_requests %}
    <tr>
        <td>{{ request.customer.username }}</td>
        <td>{{ request.service.name }}</td>
        <td>{{ request.status }}</td>
        <td>{{ request.remarks }}</td>
        <td>
            {% if request.status == 'requested' %}
                <a href="{{ url_for('professional.accept_request', request_id=request.id) }}">Accept</a>
            {% elif request.status == 'assigned' %}
                <a href="{{ url_for('professional.mark_completed', request_id=request.id) }}">Mark as Completed</a>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
